{"title":"","uid":"1cd19fc71517798e2fa5b7457d1fb06e","text":"//from https://github.com/Pamela-Wang/Obsidian-Starter-Vaults/tree/2.01/Potato%20Vault/90%20Meta/92%20Plugins/Templater%20Scripts function g...","date":"2023-01-23T09:28:57.306Z","updated":"2022-08-11T04:17:26.000Z","comments":true,"path":"api/pages/88-Template/script/template/getTitleSnippet.js","covers":null,"excerpt":"","content":"//from https://github.com/Pamela-Wang/Obsidian-Starter-Vaults/tree/2.01/Potato%20Vault/90%20Meta/92%20Plugins/Templater%20Scripts\nfunction getCleanTitle (msg) {\n    //  no dash in title so return current title trimmed\n    var count = (msg.match(/-/g) || []).length;\n    var nameTitle = msg;\n\n    if (nameTitle.length > 1){\n        nameTitle = nameTitle.trim()\n    }\n\n    if (count == 0){\n        // DONE send back empty string if untitled\n        if (msg.includes(\"Untitled\")){\n            console.log(\"Untitled so returning empty space\");\n            return \" \";\n        }\n        else\n        {\n            console.log(\"No Dash so returning trimmed:\", msg);\n            // TODO remove fullstop\n            return nameTitle.trim();\n\n        }\n    }\n    // if there is a dash in the title\n\n    else if (count == 1) {\n        console.log(\"Dash detected in:\", msg);\n        nameTitle = nameTitle.split(\"-\").slice(1);\n        nameTitle = nameTitle[0];\n        return nameTitle.trim();\n\n\n    }\n    else if (count > 1){ \n        // TODO Check for date\n\n        var dateType = /(\\d{4})([-])(\\d{2})([-])(\\d{2})/;\n        var isMatch = dateType.test(msg);\n\n        if (isMatch && count == 2){\n            // since it has a date... and only has dashes for a date, return it.\n            console.log(\"Date detected! No other dash, return as is\", msg);\n\n            return nameTitle.trim();\n\n        }\n        else {\n        // it may contain date but also a front snippet OR it does not contain date and just multiple dashes\n        console.log(\"Just front snippets with extra dash or date but also more dash\", msg);\n\n        nameTitle = nameTitle.split(\"-\").slice(1);\n        nameTitle =  nameTitle.join('-');  \n        return nameTitle.trim();\n           \n        }\n\n    }\n    else {\n        console.log(\"Logic Error\")\n    }\n\n}\nmodule.exports = getCleanTitle;","count_time":{"symbolsCount":"1.9k","symbolsTime":"2 mins."},"toc":""}