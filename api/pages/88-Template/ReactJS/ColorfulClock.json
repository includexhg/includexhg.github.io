{"title":"","uid":"1cd19fc71517798e2fa5b7457d1fb06e","text":"const [date, setDate] &#x3D; useState(new Date) useEffect(()&#x3D;&gt;&#123; const timerId &#x3D; setInterval(()&#x3D;&gt;&#123; setDate(new...","date":"2023-01-23T09:28:57.294Z","updated":"2022-12-08T12:15:04.367Z","comments":true,"path":"api/pages/88-Template/ReactJS/ColorfulClock.json","covers":null,"excerpt":"","content":"<pre class=\"line-numbers language-jsx:component:ColorfulClock\" data-language=\"jsx:component:ColorfulClock\"><code class=\"language-jsx:component:ColorfulClock\">const [date, setDate] &#x3D; useState(new Date)\n\nuseEffect(()&#x3D;&gt;&#123;\n\tconst timerId &#x3D; setInterval(()&#x3D;&gt;&#123;\n\t\tsetDate(new Date)\n\t&#125;,1000)\n\treturn ()&#x3D;&gt;&#123;clearInterval(timerId)&#125;\n&#125;)\n\n&#x2F;&#x2F;moment.locale(&#39;en-us&#39;);\nmoment.locale(&#39;zh-cn&#39;);\nlet formatDate &#x3D; moment().format(&quot;dddd-MMMM-D-H-mm-ss-a&quot;).split(&quot;-&quot;)\nlet secProgress &#x3D; formatDate[5] &#x2F; 60\nlet minProgress &#x3D; (formatDate[4]) &#x2F; 60\nlet hourProgress &#x3D; (formatDate[3]) &#x2F; 24\nlet dayProgress &#x3D; (formatDate[2]) &#x2F; 31\n&#x2F;&#x2F;console.log(formatDate[2]&#x2F;31)\n\nreturn (\n&lt;div id&#x3D;&quot;clock&quot; className&#x3D;&quot;progress-clock&quot;&gt;\n\t&lt;button className&#x3D;&quot;progress-clock__time-date&quot; data-group&#x3D;&quot;d&quot; type&#x3D;&quot;button&quot;&gt;\n\t\t&lt;small data-unit&#x3D;&quot;w&quot;&gt;&#123;formatDate[0]&#125;&lt;&#x2F;small&gt;&lt;br&#x2F;&gt;\n\t\t&lt;span data-unit&#x3D;&quot;mo&quot;&gt;&#123;formatDate[1]&#125;&lt;&#x2F;span&gt;\n\t\t&lt;span data-unit&#x3D;&quot;d&quot;&gt;&#123;formatDate[2]&#125;&lt;&#x2F;span&gt;\n\t&lt;&#x2F;button&gt;\n\t&lt;button className&#x3D;&quot;progress-clock__time-digit&quot; data-unit&#x3D;&quot;h&quot; data-group&#x3D;&quot;h&quot; type&#x3D;&quot;button&quot;&gt;&#123;formatDate[3]&#125;&lt;&#x2F;button&gt;&lt;span className&#x3D;&quot;progress-clock__time-colon&quot;&gt;:&lt;&#x2F;span&gt;&lt;button className&#x3D;&quot;progress-clock__time-digit&quot; data-unit&#x3D;&quot;m&quot; data-group&#x3D;&quot;m&quot; type&#x3D;&quot;button&quot;&gt;&#123;formatDate[4]&#125;&lt;&#x2F;button&gt;&lt;span className&#x3D;&quot;progress-clock__time-colon&quot;&gt;:&lt;&#x2F;span&gt;&lt;button className&#x3D;&quot;progress-clock__time-digit&quot; data-unit&#x3D;&quot;s&quot; data-group&#x3D;&quot;s&quot; type&#x3D;&quot;button&quot;&gt;&#123;formatDate[5]&#125;&lt;&#x2F;button&gt;\n\t&lt;span className&#x3D;&quot;progress-clock__time-ampm&quot; data-unit&#x3D;&quot;ap&quot;&gt;&#123;formatDate[6]&#125;&lt;&#x2F;span&gt;\n\t&lt;svg className&#x3D;&quot;progress-clock__rings&quot; width&#x3D;&quot;256&quot; height&#x3D;&quot;256&quot; viewBox&#x3D;&quot;0 0 256 256&quot;&gt;\n\t\t&lt;defs&gt;\n\t\t\t&lt;linearGradient id&#x3D;&quot;pc-red&quot; x1&#x3D;&quot;1&quot; y1&#x3D;&quot;0.5&quot; x2&#x3D;&quot;0&quot; y2&#x3D;&quot;0.5&quot;&gt;\n\t\t\t\t&lt;stop offset&#x3D;&quot;0%&quot; stopColor&#x3D;&quot;hsl(343,90%,55%)&quot; &#x2F;&gt;\n\t\t\t\t&lt;stop offset&#x3D;&quot;100%&quot; stopColor&#x3D;&quot;hsl(323,90%,55%)&quot; &#x2F;&gt;\n\t\t\t&lt;&#x2F;linearGradient&gt;\n\t\t\t&lt;linearGradient id&#x3D;&quot;pc-yellow&quot; x1&#x3D;&quot;1&quot; y1&#x3D;&quot;0.5&quot; x2&#x3D;&quot;0&quot; y2&#x3D;&quot;0.5&quot;&gt;\n\t\t\t\t&lt;stop offset&#x3D;&quot;0%&quot; stopColor&#x3D;&quot;hsl(43,90%,55%)&quot; &#x2F;&gt;\n\t\t\t\t&lt;stop offset&#x3D;&quot;100%&quot; stopColor&#x3D;&quot;hsl(23,90%,55%)&quot; &#x2F;&gt;\n\t\t\t&lt;&#x2F;linearGradient&gt;\n\t\t\t&lt;linearGradient id&#x3D;&quot;pc-blue&quot; x1&#x3D;&quot;1&quot; y1&#x3D;&quot;0.5&quot; x2&#x3D;&quot;0&quot; y2&#x3D;&quot;0.5&quot;&gt;\n\t\t\t\t&lt;stop offset&#x3D;&quot;0%&quot; stopColor&#x3D;&quot;hsl(223,90%,55%)&quot; &#x2F;&gt;\n\t\t\t\t&lt;stop offset&#x3D;&quot;100%&quot; stopColor&#x3D;&quot;hsl(203,90%,55%)&quot; &#x2F;&gt;\n\t\t\t&lt;&#x2F;linearGradient&gt;\n\t\t\t&lt;linearGradient id&#x3D;&quot;pc-purple&quot; x1&#x3D;&quot;1&quot; y1&#x3D;&quot;0.5&quot; x2&#x3D;&quot;0&quot; y2&#x3D;&quot;0.5&quot;&gt;\n\t\t\t\t&lt;stop offset&#x3D;&quot;0%&quot; stopColor&#x3D;&quot;hsl(283,90%,55%)&quot; &#x2F;&gt;\n\t\t\t\t&lt;stop offset&#x3D;&quot;100%&quot; stopColor&#x3D;&quot;hsl(263,90%,55%)&quot; &#x2F;&gt;\n\t\t\t&lt;&#x2F;linearGradient&gt;\n\t\t&lt;&#x2F;defs&gt;\n\t\t&lt;g data-units&#x3D;&quot;d&quot;&gt;\n\t\t\t&lt;circle className&#x3D;&quot;progress-clock__ring&quot; cx&#x3D;&quot;128&quot; cy&#x3D;&quot;128&quot; r&#x3D;&quot;74&quot; fill&#x3D;&quot;none&quot; opacity&#x3D;&quot;0.1&quot; stroke&#x3D;&quot;#e13e78&quot; strokeWidth&#x3D;&quot;12&quot; &#x2F;&gt;\n\t\t\t&lt;circle className&#x3D;&quot;progress-clock__ring-fill&quot; data-ring&#x3D;&quot;mo&quot; cx&#x3D;&quot;128&quot; cy&#x3D;&quot;128&quot; r&#x3D;&quot;74&quot; fill&#x3D;&quot;none&quot; stroke&#x3D;&quot;#e13e78&quot; strokeWidth&#x3D;&quot;12&quot; strokeDasharray&#x3D;&quot;465 465&quot; strokeDashoffset&#x3D;&#123;(1-dayProgress)*465&#125; strokeLinecap&#x3D;&quot;round&quot; transform&#x3D;&quot;rotate(-90,128,128)&quot; &#x2F;&gt;\n\t\t&lt;&#x2F;g&gt;\n\t\t&lt;g data-units&#x3D;&quot;h&quot;&gt;\n\t\t\t&lt;circle className&#x3D;&quot;progress-clock__ring&quot; cx&#x3D;&quot;128&quot; cy&#x3D;&quot;128&quot; r&#x3D;&quot;90&quot; fill&#x3D;&quot;none&quot; opacity&#x3D;&quot;0.1&quot; stroke&#x3D;&quot;#e79742&quot; strokeWidth&#x3D;&quot;12&quot; &#x2F;&gt;\n\t\t\t&lt;circle className&#x3D;&quot;progress-clock__ring-fill&quot; data-ring&#x3D;&quot;d&quot; cx&#x3D;&quot;128&quot; cy&#x3D;&quot;128&quot; r&#x3D;&quot;90&quot; fill&#x3D;&quot;none&quot; stroke&#x3D;&quot;#e79742&quot; strokeWidth&#x3D;&quot;12&quot; strokeDasharray&#x3D;&quot;565.5 565.5&quot; strokeDashoffset&#x3D;&#123;(1-hourProgress)*565.5&#125; strokeLinecap&#x3D;&quot;round&quot; transform&#x3D;&quot;rotate(-90,128,128)&quot; &#x2F;&gt;\n\t\t&lt;&#x2F;g&gt;\n\t\t&lt;g data-units&#x3D;&quot;m&quot;&gt;\n\t\t\t&lt;circle className&#x3D;&quot;progress-clock__ring&quot; cx&#x3D;&quot;128&quot; cy&#x3D;&quot;128&quot; r&#x3D;&quot;106&quot; fill&#x3D;&quot;none&quot; opacity&#x3D;&quot;0.1&quot; stroke&#x3D;&quot;#4483ec&quot; strokeWidth&#x3D;&quot;12&quot; &#x2F;&gt;\n\t\t\t&lt;circle className&#x3D;&quot;progress-clock__ring-fill&quot; data-ring&#x3D;&quot;h&quot; cx&#x3D;&quot;128&quot; cy&#x3D;&quot;128&quot; r&#x3D;&quot;106&quot; fill&#x3D;&quot;none&quot; stroke&#x3D;&quot;#4483ec&quot; strokeWidth&#x3D;&quot;12&quot; strokeDasharray&#x3D;&quot;666 666&quot; strokeDashoffset&#x3D;&#123;(1-minProgress)*666&#125; strokeLinecap&#x3D;&quot;round&quot; transform&#x3D;&quot;rotate(-90,128,128)&quot; &#x2F;&gt;\n\t\t&lt;&#x2F;g&gt;\n\t\t&lt;g data-units&#x3D;&quot;s&quot;&gt;\n\t\t\t&lt;circle className&#x3D;&quot;progress-clock__ring&quot; cx&#x3D;&quot;128&quot; cy&#x3D;&quot;128&quot; r&#x3D;&quot;122&quot; fill&#x3D;&quot;none&quot; opacity&#x3D;&quot;0.1&quot; stroke&#x3D;&quot;#8f30eb&quot; strokeWidth&#x3D;&quot;12&quot; &#x2F;&gt;\n\t\t\t&lt;circle className&#x3D;&quot;progress-clock__ring-fill&quot; data-ring&#x3D;&quot;m&quot; cx&#x3D;&quot;128&quot; cy&#x3D;&quot;128&quot; r&#x3D;&quot;122&quot; fill&#x3D;&quot;none&quot; stroke&#x3D;&quot;#8f30eb&quot; strokeWidth&#x3D;&quot;12&quot; strokeDasharray&#x3D;&quot;766.5 766.5&quot; strokeDashoffset&#x3D;&#123;(1-secProgress)*766.5&#125; strokeLinecap&#x3D;&quot;round&quot; transform&#x3D;&quot;rotate(-90,128,128)&quot; &#x2F;&gt;\n\t\t&lt;&#x2F;g&gt;\n\t&lt;&#x2F;svg&gt;\n&lt;&#x2F;div&gt;\n\n)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"调用方式\"><a href=\"#调用方式\" class=\"headerlink\" title=\"调用方式\"></a>调用方式</h2><pre class=\"line-numbers language-jsx:\" data-language=\"jsx:\"><code class=\"language-jsx:\">&lt;ColorfulClock&gt;&lt;&#x2F;ColorfulClock&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n","count_time":{"symbolsCount":"6.9k","symbolsTime":"6 mins."},"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%B0%83%E7%94%A8%E6%96%B9%E5%BC%8F\"><span class=\"toc-text\">调用方式</span></a></li></ol>"}