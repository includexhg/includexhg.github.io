{"title":"","uid":"1cd19fc71517798e2fa5b7457d1fb06e","text":"&#x2F;&#x2F;感谢锋华提供代码思路 let images &#x3D; [] let folders &#x3D; [&quot;99-Attachment&#x2F;banner&quot;] function parseSource(src) &#123; &#x2...","date":"2023-01-23T09:28:57.296Z","updated":"2022-02-16T09:27:35.000Z","comments":true,"path":"api/pages/88-Template/ReactJS/slidegallery.json","covers":null,"excerpt":"","content":"<pre class=\"line-numbers language-jsx:component:Slidegallery\" data-language=\"jsx:component:Slidegallery\"><code class=\"language-jsx:component:Slidegallery\">&#x2F;&#x2F;感谢锋华提供代码思路\nlet images &#x3D; []\nlet folders &#x3D; [&quot;99-Attachment&#x2F;banner&quot;]\n\n  function parseSource(src) &#123;\n \n        &#x2F;&#x2F; Absolute paths (legacy), relative paths (legacy), &amp; URLs\n        const path &#x3D; src.startsWith(&#39;&#x2F;&#39;) ? src.slice(1) : src;\n        const file &#x3D; app.vault.getAbstractFileByPath(path);\n        return (file instanceof obsidian.TFile) ? app.vault.getResourcePath(file) : src;\n    &#125;\n\nfor(let i &#x3D; 0; i &lt; folders.length; i++)  images &#x3D; images.concat(app.fileManager.vault.fileMap[folders[i]].children)\n\n&#x2F;&#x2F;console.log(images);\n&#x2F;&#x2F;const imageInfo &#x3D; props.src.split(&quot;\\n&quot;)\nconst imageList &#x3D; []\nconst imgStyle &#x3D; &#123;\n\twidth: &quot;150px&quot;,\n\tobjectFit: &quot;cover&quot;\n&#125;;\nconst imageListStyle &#x3D;&#123;\n    width: &quot;110%&quot;,\n    flexFlow: &quot;wrap&quot;,\n    display: &quot;flex&quot;,\n    gap: &quot;10px&quot;\n&#125;\nimages.forEach((el,index)&#x3D;&gt;&#123;\n\timageList.push(&#123;\n\t\tcaption: el.name,\n\t\tsrc: parseSource(el.path),\n\t\tindex: index\n\t&#125;)\n&#125;)\nimageList.pop()\n\nconst [imageIndex,setImageIndex] &#x3D; useState(0)\nconst imageListRender &#x3D; imageList.map(el&#x3D;&gt;&#123;\n\treturn (\n\t\t&lt;img src&#x3D;&#123;el.src&#125; style&#x3D;&#123;imgStyle&#125; onClick&#x3D;&#123;()&#x3D;&gt;setImageIndex(el.index)&#125;&#x2F;&gt;\n\t)\n&#125;)\n\nreturn (\n\t&lt;div className&#x3D;&quot;slide-gallery&quot;&gt;\n\t\t&lt;div className&#x3D;&quot;image-container&quot; style&#x3D;&#123;&#123;width:&quot;50%&quot;,height:&quot;280px&quot;,lineHeight:&quot;280px&quot;,margin:&quot;auto&quot;&#125;&#125;&gt;\n\t\t\t&lt;img src&#x3D;&#123;imageList[imageIndex].src&#125; style&#x3D;&#123;&#123;verticalAlign:&quot;moddle&quot;,width:&quot;100%&quot;&#125;&#125;&#x2F;&gt;\n\t\t&lt;&#x2F;div&gt;\n\t\t&lt;div className&#x3D;&quot;caption-container&quot; style&#x3D;&#123;&#123;textAlign: &quot;center&quot;&#125;&#125;&gt;\n\t\t    &lt;p id&#x3D;&quot;caption&quot;&gt;&#123;imageList[imageIndex].caption&#125;&lt;&#x2F;p&gt;\n\t\t&lt;&#x2F;div&gt;\n\t\t&lt;div className&#x3D;&quot;imageList-container&quot; style&#x3D;&#123;imageListStyle&#125;&gt;\n\t\t\t&#123;imageListRender&#125;\n\t\t&lt;&#x2F;div&gt;\n\t&lt;&#x2F;div&gt;\n)\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-jsx::Slidegallery\" data-language=\"jsx::Slidegallery\"><code class=\"language-jsx::Slidegallery\"><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>","count_time":{"symbolsCount":"2.3k","symbolsTime":"2 mins."},"toc":""}